{#
/**
 * @file
 * Theme override to display a view of unformatted rows.
 *
 * Available variables:
 * - title: The title of this group of rows. May be empty.
 * - rows: A list of the view's row items.
 *   - attributes: The row's HTML attributes.
 *   - content: The row's content.
 * - view: The view object.
 * - default_row_class: A flag indicating whether default classes should be
 *   used on rows.
 *
 * @see template_preprocess_views_view_unformatted()
 */
#}
{% set accordion_classes = [
    'Accordion',
    'Accordion--default',
    'fr-accordion',
    'js-fr-accordion',
] %}
<div class="u-layout-centerContent u-padding-r-bottom">
    <section class="u-layout-wide">

        <div class="related-content related-faq">

            {# Accordion #}
            <div{{ attributes
                .addClass(accordion_classes)
            .setAttribute('id', 'accordion-faq-1') }}>

                {% for row in rows %}
                    {# Accordion item #}
                    <h2 class="Accordion-header js-fr-accordion__header fr-accordion__header"
                        id="{{ 'accordion-header-faq-' ~ loop.index0 }}">
                        <span class="Accordion-link">{{ row.content['#node'].title.value }}</span>
                    </h2>
                    {# Accordion panel #}
                    <div id="{{ 'accordion-panel-faq-' ~ loop.index0 }}"
                         class="Accordion-panel fr-accordion__panel js-fr-accordion__panel">
                        {{ row.content }}
                    </div>
                {% endfor %}

            </div>
        </div>
    </section>
</div>